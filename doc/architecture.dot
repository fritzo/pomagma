digraph G {
    overlap=false;
    size="5,5";
    node [shape=box];


    //subgraph cluster_legend {
    //    rank="max";
    //    Human [style=filled, fillcolor=pink];
    //    Data [shape=ellipse];
    //}

    {
        rank="min";
        Theorist;
        Linguist;
    }
    {
        //rank="max";
        node [style=filled, fillcolor=pink];
        TheoryReviewer [label="Reviewer"];
        LanguagesReviewer [label="Reviewer"];
    }
    {
        node [shape=ellipse];
        rank = "same";
        Languages [label="Languages\ngit"];
        Theory [label="Theory\ngit"];
        Atlas [label="Atlas\nS3"];
        Corpus [label="Corpus\ngit"];
    }
    Compiler;
    {
        rank = "same";
        Cartographer;
        Analyst;
        Editor;
    }

    subgraph cluster_survey {
        Surveyor;

        color = "#666666";
        fontcolor = "#666666";
        label = "many";
        labelloc = "b";
    }

    subgraph cluster_write {
        Writer;
        Muse1 [label="Muse" style=filled, fillcolor=pink];

        //subgraph cluster_muses {
        //    Muse2 [label="Muse"];
        //    color = "#666666";
        //    fontcolor = "#666666";
        //    label = "many";
        //    labelloc = "b";
        //}

        color = "#666666";
        fontcolor = "#666666";
        label = "many";
        labelloc = "b";
    }


    // Workflow: Compile
    edge [dir=forward arrowhead=normal]; // pull
    Theory -> Compiler;
    Compiler -> Surveyor;
    Compiler -> Theory;

    // Workflow: Explore
    edge [dir=forward arrowhead=normal]; // pull
    Theory -> Cartographer;
    Atlas -> Cartographer;
    Theory -> Theorist;
    Languages -> Cartographer;
    Languages -> Surveyor;
    Cartographer -> Surveyor;
    edge [dir=both arrowtail=inv arrowhead=empty]; // push
    Surveyor -> Cartographer;
    Cartographer -> Atlas;
    Cartographer -> Theorist;
    TheoryReviewer -> Theory;
    Theorist -> Cartographer;
    Theorist -> TheoryReviewer;

    // Workflow: Write
    edge [dir=forward arrowhead=normal]; // pull
    Atlas -> Analyst;
    Languages -> Analyst;
    Corpus -> Editor;
    Analyst -> Editor;
    Editor -> Writer;
    Writer -> Muse1;
    Writer -> Muse2;
    edge [dir=both arrowtail=inv arrowhead=empty]; // push
    Editor -> Corpus;
    Editor -> Analyst;
    Writer -> Editor;
    Muse1 -> Writer;
    Muse2 -> Writer;

    // Workflow: Fit Language
    edge [dir=forward arrowhead=normal]; // pull
    Analyst -> Linguist;
    Languages -> Linguist;
    Linguist -> LanguagesReviewer;
    edge [dir=both arrowtail=inv arrowhead=empty]; // push
    Linguist -> Languages;
    LanguagesReviewer -> Languages;
    LanguagesReviewer -> Theory;
}
