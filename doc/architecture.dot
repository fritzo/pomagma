digraph G {
	overlap=false;
	size="4,4";

	node [shape=box];
	Human [style=filled, fillcolor=pink];

	lang_reviewer [label="Reviewer", style=filled, fillcolor=pink];
	theory_reviewer [label="Reviewer", style=filled, fillcolor=pink];

	{
		rank="min";
	 	Theorist;
		Linguist;
	}

	subgraph cluster_grower {
		color = gray;
		{ rank="min"; Grower; }
	}

	Structure -> Trimmer;
	Language -> Trimmer;
	Trimmer -> Grower;
	Grower -> Aggregator [label="queued"];
	Aggregator -> Structure;
	Structure -> Aggregator;

	Structure -> Theorist;
	Language ->  Theorist;
	Theorist -> theory_reviewer;
	theory_reviewer -> Theory;
	Theory -> Compiler -> Grower;

	Structure -> Linguist;
	Language -> Linguist;
	//Linguist -> lang_reviewer -> Language;
	Linguist -> Language [label="weights"];
	Linguist -> lang_reviewer -> Language [label="rules"];

	subgraph cluster_navigator {
		color = gray;
		//node [shape=box];
		{ rank="max"; Player [style=filled, fillcolor=pink]; }
		nav_client [label="Navigator\nClient"];
		nav_client -> Player;
		Player -> nav_client;
	}

	nav_server [label="Navigator\nServer"];
	nav_client -> nav_server [label="pos"];
	nav_server -> nav_client [label="nbhd"];
	Structure -> nav_server;
	Language -> nav_server;
	nav_server -> Linguist [label="usage"];

	// data
	{
	 	rank="same";
		Language [shape=ellipse, rank="min"];
		Theory [shape=ellipse];
		Structure [shape=ellipse];
	}
}
