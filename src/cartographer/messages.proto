package pomagma_messaging;

message CartographerRequest {

  message Trim {
    required uint32 region_size = 1;
    repeated string regions_out = 2;
  }
  message Aggregate {
    repeated string surveys_in = 1;
  }
  message Infer {
    required uint32 priority = 1;
  }
  message Crop {
  }
  message Validate {
  }
  message Dump {
    required string world_out = 1;
  }

  // ordered by priority
  optional Trim trim = 1;
  optional Aggregate aggregate = 2;
  optional Infer infer = 3;
  optional Crop crop = 4;
  optional Validate validate = 5;
  optional Dump dump = 6;
}

message CartographerResponse {

  message Trim {
  }
  message Aggregate {
  }
  message Infer {
    optional uint64 theorem_count = 1;
  }
  message Crop {
  }
  message Validate {
  }
  message Dump {
  }

  optional Trim trim = 1;
  optional Aggregate aggregate = 2;
  optional Infer infer = 3;
  optional Crop crop = 4;
  optional Validate validate = 5;
  optional Dump dump = 6;
}
